# Test Plan: MS-22642 - Search in DataMagic is broken

## Issue Summary
**JIRA Ticket**: [MS-22642](https://jira.panoramicdata.com/browse/MS-22642)  
**Issue Type**: Bug  
**Reporter**: John Odlin  
**Status**: Ready for Test  

**Description**: The search box on estate pages in DataMagic doesn't perform searches on table data. This functionality was broken after recent OData changes. Filters still work correctly.

**Environment**: 
- System: Alpha 2
- Tenant: panoramicdatatest.onmicrosoft.com
- Test URL: https://data.alpha2.magicsuite.net/estate/administrators

## Test Objectives
1. Verify that search functionality works correctly on all estate pages
2. Confirm that search filters table data appropriately
3. Ensure search works across different data types and estate objects
4. Validate that filters continue to work correctly (regression test)
5. Test search functionality in different browsers

## Pre-Conditions
- Access to Alpha 2 environment
- Valid login credentials for panoramicdatatest.onmicrosoft.com tenant
- Test data available in various estate pages (administrators, connections, etc.)

## Test Cases

### TC-01: Basic Search Functionality - Administrators Page
**Objective**: Verify search works on administrators estate page  
**Priority**: High  
**Steps**:
1. Navigate to https://data.alpha2.magicsuite.net/estate/administrators
2. Observe the initial data load in the table
3. Enter "ali" in the search box
4. Observe if table data is filtered to show only records containing "ali"
5. Clear the search box
6. Verify all data is displayed again

**Expected Result**: 
- Search should filter table to show only administrators containing "ali"
- Clearing search should restore full data set

**Current Bug Behavior**: Search box doesn't filter data - all records remain visible

### TC-02: Search Functionality - Different Estate Pages
**Objective**: Verify search works across all estate page types  
**Priority**: High  
**Steps**:
1. Test search on the following pages:
   - /estate/connections
   - /estate/dashboards 
   - /estate/reports
   - /estate/schedules
   - /estate/widgets
2. For each page:
   a. Enter a search term that should match some records
   b. Verify filtering occurs
   c. Enter a search term that should match no records
   d. Verify empty results are shown
   e. Clear search and verify full data returns

**Expected Result**: Search should work consistently across all estate pages

### TC-03: Search with Special Characters and Cases
**Objective**: Test search robustness with various inputs  
**Priority**: Medium  
**Steps**:
1. Navigate to any estate page with data
2. Test search with:
   - Uppercase text (e.g., "ALI")
   - Lowercase text (e.g., "ali") 
   - Mixed case (e.g., "Ali")
   - Special characters (e.g., "@", "-", "_")
   - Numbers
   - Partial matches
3. Verify appropriate filtering for each case

**Expected Result**: Search should handle all input types appropriately with case-insensitive matching

### TC-04: Filter Functionality Regression Test
**Objective**: Ensure existing filters still work correctly  
**Priority**: Medium  
**Steps**:
1. Navigate to estate administrators page
2. Apply various column filters (if available)
3. Verify filters work correctly
4. Combine filters with search functionality
5. Test clearing filters

**Expected Result**: Filters should continue to work as before the OData changes

### TC-05: Search Performance and UI Behavior
**Objective**: Test search performance and user experience  
**Priority**: Low  
**Steps**:
1. Navigate to estate page with large dataset
2. Enter search terms and observe:
   - Response time
   - Loading indicators
   - Table pagination behavior with filtered results
   - URL parameter updates (if any)
3. Test rapid typing in search box
4. Test search with very long strings

**Expected Result**: Search should be responsive with appropriate UI feedback

### TC-06: Cross-Browser Compatibility
**Objective**: Verify search works across supported browsers  
**Priority**: Medium  
**Steps**:
1. Repeat TC-01 in the following browsers:
   - Chrome (latest)
   - Firefox (latest)
   - Edge (latest)
   - Safari (if available)
2. Document any browser-specific issues

**Expected Result**: Search functionality should work consistently across all browsers

### TC-07: Empty State and Error Handling
**Objective**: Test search behavior with edge cases  
**Priority**: Low  
**Steps**:
1. Test search on empty estate pages (no data)
2. Test search while data is loading
3. Test search with network connectivity issues
4. Test search with very long strings
5. Test search with only spaces or special characters

**Expected Result**: Appropriate error handling and user feedback

## Test Environment Details
**Primary Environment**: Alpha 2  
**URL**: https://data.alpha2.magicsuite.net/  
**Tenant**: panoramicdatatest.onmicrosoft.com  
**Browser**: Chrome (primary), Firefox, Edge (secondary testing)  

## Pass/Fail Criteria
**PASS**: 
- Search functionality filters table data correctly on all estate pages
- Search is case-insensitive and handles partial matches
- Existing filter functionality is not regressed
- Search works consistently across supported browsers

**FAIL**: 
- Search box doesn't filter table data (current bug state)
- Search causes errors or crashes
- Filters are broken after search implementation
- Significant performance degradation

## Notes
- This issue was introduced after recent OData changes
- Original bug report shows search term "ali" not filtering results
- Filters are confirmed to still work correctly
- Screenshot evidence available in JIRA ticket

## Dependencies
- OData implementation fix from development team
- Access to Alpha 2 environment maintained
- Test data available in estate pages

## Estimated Testing Time
**Total Estimate**: 4-6 hours  
- Setup and initial testing: 1 hour
- Core functionality testing: 2-3 hours  
- Cross-browser testing: 1-2 hours
- Documentation and reporting: 1 hour